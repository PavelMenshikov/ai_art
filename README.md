# üõ°Ô∏è ai_art ‚Äì ¬´copyright-safe¬ª image variations via InstructPix2Pix [![Hugging Face](https://img.shields.io/badge/ü§ó_Model-timbrooks/instruct--pix2pix-orange)](https://huggingface.co/timbrooks/instruct-pix2pix) [![Streamlit](https://img.shields.io/badge/üéà_Powered_by-Streamlit-FF4B4B)](https://streamlit.io) [![Python](https://img.shields.io/badge/Python-3.9+-3776AB)](https://www.python.org) [![CUDA](https://img.shields.io/badge/CUDA-11.8+-76B900)](https://developer.nvidia.com/cuda-toolkit) [![License](https://img.shields.io/badge/License-MIT-007EC6)](LICENSE)
## üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–ó–∞–≥—Ä—É–∂–∞–µ—Ç–µ –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç–µ –µ–≥–æ –∞–ª—å—Ç–µ—Ä-—ç–≥–æ: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è, —Ü–≤–µ—Ç –∏ —Å—é–∂–µ—Ç –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏, –Ω–æ –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏, —Ç–µ–∫—Å—Ç—É—Ä—ã –∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ –º–µ–Ω—è—é—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã SSIM-–æ—Ç–ª–∏—á–∏–µ –ª–µ–∂–∞–ª–æ –≤ ¬´–±–µ–∑–æ–ø–∞—Å–Ω–æ–º¬ª –∫–æ—Ä–∏–¥–æ—Ä–µ 5‚Äì25 %. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–π –æ–± –∞–≤—Ç–æ—Ä—Å–∫–æ–º –ø—Ä–∞–≤–µ –ø—Ä–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏¬π. ¬π*–ù–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è ‚Äî –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–µ–π—Å–∞—Ö –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å —é—Ä–∏—Å—Ç–æ–º.*
## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (GPU)
1. Python 3.9+, CUDA 11.8+, NVIDIA GPU ‚â• 6 –ì–ë VRAM  
2. `git clone https://github.com/PavelMenshikov/ai_art.git && cd ai_art`  
3. `python -m venv venv && source venv/bin/activate` (Win: `venv\Scripts\activate`)  
4. `pip install -r requirements.txt`  
5. `streamlit run app.py` ‚Üí –±—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–∞–º –ø–æ `http://localhost:8501`
## üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–û–°: Linux / Windows ‚â• 10 (GPU) –ª–∏–±–æ macOS (CPU-only)  
GPU: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚â• Pascal, 6 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–π VRAM  
CUDA: 11.8 –∏–ª–∏ –Ω–æ–≤–µ–µ, cuDNN 8.6+  
RAM: ‚â• 8 –ì–ë —Å–∏—Å—Ç–µ–º–Ω–æ–π  
–î–∏—Å–∫: ‚âà 5 –ì–ë –ø–æ–¥ –∫—ç—à HuggingFace (`~/.cache/huggingface`)  
Python: 3.9 ‚Äì 3.11
## üß™ CPU-—Ä–µ–∂–∏–º
–ï—Å–ª–∏ CUDA –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ CPU. –°–∫–æ—Ä–æ—Å—Ç—å: 2‚Äì10 –º–∏–Ω/–∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø—Ä–∏ 8+ –ì–ë –û–ó–£. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –Ω–æ –Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.
## ‚òÅÔ∏è Google Colab (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π GPU)
[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/PavelMenshikov/ai_art/blob/main/colab_demo.ipynb)  
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ ‚Üí –ø–æ–ª—É—á–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π URL –Ω–∞ 90 –º–∏–Ω.
## ‚öôÔ∏è –ü–æ–¥—Ä–æ–±–Ω–æ –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (prompt) ‚Äì –ª—é–±–æ–π —Ç–µ–∫—Å—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ¬´Create a high-quality variation...¬ª ‚Äì –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å;  
–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (steps) ‚Äì 15‚Äì50, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 26 ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–∏—Ñ—Ñ—É–∑–∏–∏;  
Image Guidance ‚Äì 1.0‚Äì2.5, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.60 ‚Äì –Ω–∞—Å–∫–æ–ª—å–∫–æ –∫—Ä–µ–ø–∫–æ –¥–µ—Ä–∂–∞—Ç—å—Å—è –ø–∏–∫—Å–µ–ª–µ–π –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ (1.0 = –∂—ë—Å—Ç–∫–æ, 2.5 = —Å–≤–æ–±–æ–¥–Ω–æ);  
Text Guidance ‚Äì 5.0‚Äì10.0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7.5 ‚Äì —Å–∏–ª–∞ –≤–ª–∏—è–Ω–∏—è prompt –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é.
## üìä –ú–µ—Ç—Ä–∏–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Äì —Å–µ–∫—É–Ω–¥—ã —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏;  
–û—Ç–ª–∏—á–∏–µ (Diff) ‚Äì –ø—Ä–æ—Ü–µ–Ω—Ç, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ SSIM; —Ü–µ–ª–µ–≤–æ–π –∫–æ—Ä–∏–¥–æ—Ä 5‚Äì25 %;  
–°—Ç–∞—Ç—É—Å ‚Äì ‚úÖ ¬´–í —Ä–∞–º–∫–∞—Ö –¢–ó¬ª, ‚ö†Ô∏è ¬´–ú–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π¬ª –∏–ª–∏ ¬´–°–∏–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è¬ª;  
SSIM ‚Äì –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ö–æ–∂–µ—Å—Ç–∏ (1 = –∏–¥–µ–Ω—Ç–∏—á–Ω–æ).
## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª–∏—Ü–µ–Ω–∑–∏–∏
–ö–æ–¥: MIT  
–ú–æ–¥–µ–ª—å: OpenRAIL (—Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)  
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç—á—ë—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º Diff –¥–ª—è –∞—É–¥–∏—Ç–∞
## üö´ –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
Streamlit Cloud, Heroku, Railway –∏ –ø—Ä–æ—á–∏–µ CPU-only —Ö–æ—Å—Ç–∏–Ω–≥–∏ ‚Äì –º–æ–¥–µ–ª—å &gt; 5 –ì–ë –∏ —Ç—Ä–µ–±—É–µ—Ç GPU;  
–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ tier-—ã Google Cloud Run / AWS Lambda ‚Äì —Ç–æ –∂–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ.
## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt)
streamlit&gt;=1.28 torch&gt;=2.0 diffusers&gt;=0.21 transformers&gt;=4.30 accelerate&gt;=0.20 Pillow&gt;=9.0 scikit-image&gt;=0.20 numpy&gt;=1.24
## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥
PR –∏ issues –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥ —Ç–µ—Å—Ç–∞–º–∏ (`pytest`).
## üìß –ö–æ–Ω—Ç–∞–∫—Ç
Author: Pavel Menshikov | GitHub: [@PavelMenshikov](https://github.com/PavelMenshikov)
---
**English TL;DR**: ai_art is a Streamlit wrapper around InstructPix2Pix that tweaks images just enough (5‚Äì25 % SSIM diff) to help avoid copyright collisions while keeping the original look. Needs NVIDIA GPU ‚â• 6 GB, CUDA 11.8+, Python 3.9+. Quick demo: open the Colab notebook; for permanent hosting run on any GPU cloud.